'use client';

import confetti from 'canvas-confetti';

const leaf = confetti.shapeFromPath({
  path: 'M343,223.5c0-42.855-10.448-88.419-29.419-128.298c-19.665-41.337-46.646-73.845-78.026-94.011c-2.47-1.587-5.64-1.587-8.109,0c-31.38,20.166-58.361,52.674-78.025,94.011C130.448,135.081,120,180.645,120,223.5c0,79.146,35.002,142.378,104,188.033V455.5c0,4.142,3.358,7.5,7.5,7.5s7.5-3.358,7.5-7.5v-43.967C307.997,365.879,343,302.646,343,223.5z M135,223.5c0-11.674,0.822-23.563,2.416-35.478L224,274.606v50.787l-88.623-88.624C135.136,232.396,135,227.977,135,223.5z M151.344,129.95L224,202.606v50.787l-83.556-83.556C143.13,156.36,146.786,142.974,151.344,129.95z M292.825,87.58c-0.042,0.04-0.087,0.075-0.129,0.116L239,141.393V90.606l33.815-33.815C280.039,66.233,286.753,76.548,292.825,87.58z M326.705,197.688L239,285.393v-50.787l80.078-80.078C322.722,168.806,325.289,183.303,326.705,197.688z M239,306.606l88.926-88.925c0.045,1.944,0.074,3.885,0.074,5.819c0,17.661-1.89,34.522-5.614,50.508L239,357.393V306.606z M314.361,138.048c-0.054,0.051-0.112,0.096-0.165,0.149L239,213.393v-50.787l61.011-61.011c0.008,0.017,0.016,0.033,0.024,0.05C305.601,113.346,310.393,125.559,314.361,138.048z M263.254,45.139L239,69.393V22.047C247.453,28.681,255.581,36.436,263.254,45.139z M224,22.047v87.346l-41.679-41.679C194.651,49.516,208.802,33.975,224,22.047z M174.098,80.704L224,130.606v50.787l-66.791-66.791c1.817-4.378,3.733-8.703,5.757-12.957C166.413,94.397,170.138,87.407,174.098,80.704z M162.62,328.711c-12.371-20.576-20.608-43.4-24.667-68.152L224,346.606v46.733C197.81,374.626,177.187,352.94,162.62,328.711z M239,393.339v-14.733l73.241-73.24c-3.408,8.068-7.359,15.857-11.861,23.345C285.813,352.94,265.19,374.627,239,393.339z',
  //TODO: Find out if we need to pass more values to DOM matrix
  //@ts-ignore
  matrix: [
    0.020491803278688523, 0, 0, 0.020491803278688523, -7.172131147540983, -5.9016393442622945,
  ],
});

const confettiConfig = {
  scalar: 8,
  spread: 180,
  particleCount: 80,
  origin: { y: -0.2 },
  startVelocity: -70,
  zIndex: 2,
};

export const showConfetti = () =>
  confetti({
    ...confettiConfig,
    shapes: [leaf],
    colors: ['#ff9a00', '#ff7400', '#ff4d00'],
  });
